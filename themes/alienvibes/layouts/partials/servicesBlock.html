<section data-background="{{ .Site.BaseURL }}images/backgrounds/prone-paintball-player.webp"  class="lazy-bg services bg-dark p-0">
    <div class="grid-wrapper h-100 w-100 p-0 m-0">
    <div class="container-fluid">
        <div class="row">
            <div class="container mx-auto p-3 text-center">
                {{ with .GetPage "services" }}
                <h3 class="text-white h3 text-center text-capitalize text-decoration-underline">{{ .Title }}</h3>
                {{ with .Params.subtitle }}
                <p class="text-white p-2 mx-auto fs-5" style="max-width: 100ch;">{{ . | markdownify }}</p>
                {{ end }}
            </div>
        </div>
        <div class="row align-items-stretch mx-auto justify-content-start justify-content-xl-between">
                {{ with .Site.GetPage "services" }}
                    {{ range .Params.services }}
                    <div class="col-12 col-md-6 col-lg-4 col-xl-2 my-3">
                    <div class="card border-warning mb-3 mx-auto h-100 interactive">
                        <div class="card-header d-flex align-items-center update-header p-2"><i class="fas fa-check-circle fa-2x text-warning mx-2"></i><h3 class="card-title fs-4"><a href="{{ .url | absURL }}" title="{{ .name }}" class="text-white text-decoration-none">{{ .name }}</a></h3></div>
                        <div class="card-body bg-dark">
                          <p class="card-text text-white">{{ .description }}</p>
                          <a href="{{ .url | absURL}}" title="{{ .name}}" role="button" class="btn btn-outline-warning btn-small fw-normal p-3 m-2 d-block d-lg-inline-block text-uppercase">{{ .name }}</a>
                        </div>
                      </div>
                    </div>
                    {{ end }} 

                {{ end }}


                <script defer>

                    let newHeight = 0         
                    const headers = document.querySelectorAll(".update-header")

                    function uniformHeaderSize(headers){

                        newHeight = 0
  

                      for (const h of headers) {
                          console.log(h)
                          if (h.scrollHeight > newHeight) newHeight = h.scrollHeight
                      }
                  
                      for (const i of headers) {
                          i.style.height = (newHeight + 5) + 'px'
                      }
                  
                    }
                    (uniformHeaderSize(headers))()



                    window.addEventListener("resize", () => {
                        newHeight = 0
                        uniformHeaderSize(headers)
                    })
                    

                   

                </script>

                {{ end }}
        </div>
    </div>
    </div>
</section>